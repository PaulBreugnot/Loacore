
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Analyse data : analysis package &#8212; Loacore : Language and Opinion Analyzer for Comments and Reviews  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Machine Learning" href="learning.html" />
    <link rel="prev" title="Load data from database : load package" href="load.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="analyse-data-analysis-package">
<h1>Analyse data : <em>analysis</em> package<a class="headerlink" href="#analyse-data-analysis-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-loacore.analysis.sentiment_analysis">
<span id="sentiment-analysis"></span><h2>Sentiment Analysis<a class="headerlink" href="#module-loacore.analysis.sentiment_analysis" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="loacore.analysis.sentiment_analysis.compute_extreme_files_polarity">
<code class="descclassname">loacore.analysis.sentiment_analysis.</code><code class="descname">compute_extreme_files_polarity</code><span class="sig-paren">(</span><em>files</em>, <em>pessimistic=False</em>, <em>commit_polarities=True</em>, <em>freeling_lang='en'</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.sentiment_analysis.compute_extreme_files_polarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the extreme polarity of all the reviews in each file, and then compute the normalized sum of polarities of
all reviews of each file, and return them as a dictionary that map id_files to polarity tuples (pos_score,
neg_score, obj_score).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process</li>
<li><strong>pessimistic</strong> (<em>boolean</em>) – Specify if pessimistic computing should be used. Optimistic is used if set to False.</li>
<li><strong>commit_polarities</strong> (<em>bool</em>) – If True, results will be committed to database.</li>
<li><strong>freeling_lang</strong> – Freeling language to use.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Score dictionary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Compute optimistic and pessimistic polarities of uci files.</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.load.file_load</span> <span class="k">as</span> <span class="nn">file_load</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.analysis.sentiment_analysis</span> <span class="k">as</span> <span class="nn">sentiment_analysis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loacore.utils</span> <span class="k">import</span> <span class="n">plot_polarities</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">get_id_files_by_file_path</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*/uci/.+&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">load_database</span><span class="p">(</span><span class="n">id_files</span><span class="o">=</span><span class="n">ids</span><span class="p">,</span> <span class="n">load_deptrees</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">polarities</span> <span class="o">=</span> <span class="n">sentiment_analysis</span><span class="o">.</span><span class="n">compute_extreme_files_polarity</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">freeling_lang</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_polarities</span><span class="o">.</span><span class="n">print_polarity_table</span><span class="p">(</span><span class="n">polarities</span><span class="p">)</span>
<span class="go">+---------------------------+-----------+-----------+-----------+</span>
<span class="go">|            File           | Pos_Score | Neg_Score | Obj_Score |</span>
<span class="go">+---------------------------+-----------+-----------+-----------+</span>
<span class="go">|     imdb_labelled.txt     |   0.467   |   0.066   |   0.467   |</span>
<span class="go">|     yelp_labelled.txt     |   0.465   |   0.069   |   0.465   |</span>
<span class="go">| amazon_cells_labelled.txt |   0.462   |   0.076   |   0.462   |</span>
<span class="go">+---------------------------+-----------+-----------+-----------+</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">polarities</span> <span class="o">=</span> <span class="n">sentiment_analysis</span><span class="o">.</span><span class="n">compute_extreme_files_polarity</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">pessimistic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">freeling_lang</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_polarities</span><span class="o">.</span><span class="n">print_polarity_table</span><span class="p">(</span><span class="n">polarities</span><span class="p">)</span>
<span class="go">+---------------------------+-----------+-----------+-----------+</span>
<span class="go">|            File           | Pos_Score | Neg_Score | Obj_Score |</span>
<span class="go">+---------------------------+-----------+-----------+-----------+</span>
<span class="go">|     imdb_labelled.txt     |   0.091   |   0.819   |   0.091   |</span>
<span class="go">|     yelp_labelled.txt     |   0.056   |   0.887   |   0.056   |</span>
<span class="go">| amazon_cells_labelled.txt |   0.049   |   0.901   |   0.049   |</span>
<span class="go">+---------------------------+-----------+-----------+-----------+</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.sentiment_analysis.compute_extreme_reviews_polarity">
<code class="descclassname">loacore.analysis.sentiment_analysis.</code><code class="descname">compute_extreme_reviews_polarity</code><span class="sig-paren">(</span><em>reviews</em>, <em>commit_polarities=False</em>, <em>pessimistic=False</em>, <em>freeling_lang='es'</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.sentiment_analysis.compute_extreme_reviews_polarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs <em>extreme</em> reviews polarity computation : only the most pessimistic or optimistic sense
(according to pessimistic argument) is considered. Those values tend to show how the disambiguation process is
important, due to the huge difference between pessimistic and optimistic scores.</p>
<p>Also notice that this function is an interesting example of how other processes could be applied to data already
computed in database. Here, the disambiguated synsets are not used, and all senses re-computed with Freeling are
used.</p>
<p>Check source code for more detailed explanations about this example.</p>
<p>Polarities are then stored in reviews, with the analysis label ‘optimistic’ or ‘pessimistic’ according to
<em>pessimistic</em> parameter, and eventually committed to database if <em>commit_polarities</em> is set to True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reviews</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.Review" title="loacore.classes.classes.Review"><code class="xref py py-class docutils literal notranslate"><span class="pre">Review</span></code></a>) – Reviews to process</li>
<li><strong>commit_polarities</strong> (<em>bool</em>) – If True, results will be committed to database.</li>
<li><strong>pessimistic</strong> (<em>boolean</em>) – Specify if pessimistic computing should be used. Optimistic is used if set to False.</li>
<li><strong>freeling_lang</strong> (<em>String</em>) – <p>Specify language used by Freeling. Default : ‘es’.</p>
<p>Possible values : ‘as’, ‘ca’, ‘cs’, ‘cy’, ‘de’, ‘en’, ‘es’, ‘fr’, ‘gl’, ‘hr’, ‘it’, ‘nb’, ‘pt’, ‘ru’, ‘sl’)</p>
<p>See <a class="reference external" href="https://talp-upc.gitbooks.io/freeling-4-1-user-manual/content/basics.html">https://talp-upc.gitbooks.io/freeling-4-1-user-manual/content/basics.html</a> for more details.</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Reviews with polarity.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.Review" title="loacore.classes.classes.Review"><code class="xref py py-class docutils literal notranslate"><span class="pre">Review</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Commit pessimistic polarities of uci files to database.</p>
<div class="last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">loacore.analysis.sentiment_analysis</span> <span class="kn">as</span> <span class="nn">sentiment_analysis</span>
<span class="kn">import</span> <span class="nn">loacore.load.file_load</span> <span class="kn">as</span> <span class="nn">file_load</span>
<span class="kn">import</span> <span class="nn">loacore.load.review_load</span> <span class="kn">as</span> <span class="nn">review_load</span>

<span class="n">ids</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">get_id_files_by_file_paths</span><span class="p">([</span><span class="sa">r</span><span class="s1">&#39;.*/uci/.+&#39;</span><span class="p">])</span>
<span class="n">reviews</span> <span class="o">=</span> <span class="n">review_load</span><span class="o">.</span><span class="n">load_reviews_by_id_files</span><span class="p">(</span><span class="n">id_files</span><span class="o">=</span><span class="n">ids</span><span class="p">,</span> <span class="n">load_sentences</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">load_words</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">sentiment_analysis</span><span class="o">.</span><span class="n">compute_extreme_reviews_polarity</span><span class="p">(</span><span class="n">reviews</span><span class="p">,</span> <span class="n">commit_polarities</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">pessimistic</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                                    <span class="n">freeling_lang</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If <em>reviews</em> have been loaded in temporary files (with <em>load_in_temp_file=True</em> in
<a class="reference internal" href="load.html#loacore.load.file_load.load_database" title="loacore.load.file_load.load_database"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_database()</span></code></a>), input <em>reviews</em> (that is an iterator) won’t be modified
dynamically. However, results can be committed to database normally, and results will be available in the
returned ReviewIterator (i.e. new temp files).</p>
</div>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.sentiment_analysis.compute_pattern_reviews_polarity">
<code class="descclassname">loacore.analysis.sentiment_analysis.</code><code class="descname">compute_pattern_reviews_polarity</code><span class="sig-paren">(</span><em>reviews</em>, <em>commit_polarities=False</em>, <em>adj_pattern=True</em>, <em>cc_pattern=True</em>, <em>print_polarity_commutations=False</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.sentiment_analysis.compute_pattern_reviews_polarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute reviews polarity considering adjective and/or complement polarity commutation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reviews</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.Review" title="loacore.classes.classes.Review"><code class="xref py py-class docutils literal notranslate"><span class="pre">Review</span></code></a>) – Reviews to process</li>
<li><strong>commit_polarities</strong> (<em>bool</em>) – If True, results will be committed to database.</li>
<li><strong>adj_pattern</strong> (<em>bool</em>) – If True, adjective commutation are considered.</li>
<li><strong>cc_pattern</strong> (<em>bool</em>) – If True, complement commutation are considered.</li>
<li><strong>print_polarity_commutations</strong> (<em>bool</em>) – If True, prints elements where a commutation occured.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Reviews with polarity.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.Review" title="loacore.classes.classes.Review"><code class="xref py py-class docutils literal notranslate"><span class="pre">Review</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If <em>reviews</em> have been loaded in temporary files (with <em>load_in_temp_file=True</em> in
<a class="reference internal" href="load.html#loacore.load.file_load.load_database" title="loacore.load.file_load.load_database"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_database()</span></code></a>), input <em>reviews</em> (that is an iterator) won’t be modified
dynamically. However, results can be committed to database normally, and results will be available in the
returned ReviewIterator (i.e. new temp files).</p>
</div>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.sentiment_analysis.compute_simple_files_polarity">
<code class="descclassname">loacore.analysis.sentiment_analysis.</code><code class="descname">compute_simple_files_polarity</code><span class="sig-paren">(</span><em>files</em>, <em>commit_polarities=True</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.sentiment_analysis.compute_simple_files_polarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the simple polarity of all the reviews in each file, and then compute the normalized sum of polarities of
all reviews of each file, and return them as a dictionary that map id_files to polarity tuples (pos_score,
neg_score, obj_score).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process</li>
<li><strong>commit_polarities</strong> (<em>bool</em>) – If True, results will be committed to database.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Polarity dict</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Load uci files, compute basic polarities, and show results with <code class="xref py py-func docutils literal notranslate"><span class="pre">utils.print_polarity_table()</span></code>.</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.load.file_load</span> <span class="k">as</span> <span class="nn">file_load</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.analysis.sentiment_analysis</span> <span class="k">as</span> <span class="nn">sentiment_analysis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">get_id_files_by_file_path</span><span class="p">([</span><span class="sa">r</span><span class="s1">&#39;.*/uci/.+&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">load_database</span><span class="p">(</span><span class="n">id_files</span><span class="o">=</span><span class="n">ids</span><span class="p">,</span> <span class="n">load_deptrees</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">polarities</span> <span class="o">=</span> <span class="n">sentiment_analysis</span><span class="o">.</span><span class="n">compute_simple_files_polarity</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loacore.utils</span> <span class="k">import</span> <span class="n">plot_polarities</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_polarities</span><span class="o">.</span><span class="n">print_polarity_table</span><span class="p">(</span><span class="n">polarities</span><span class="p">)</span>
<span class="go">+---------------------------+-----------+-----------+-----------+</span>
<span class="go">|            File           | Pos_Score | Neg_Score | Obj_Score |</span>
<span class="go">+---------------------------+-----------+-----------+-----------+</span>
<span class="go">|     imdb_labelled.txt     |   0.117   |   0.088   |   0.795   |</span>
<span class="go">|     yelp_labelled.txt     |   0.123   |   0.086   |   0.790   |</span>
<span class="go">| amazon_cells_labelled.txt |   0.118   |   0.090   |   0.792   |</span>
<span class="go">+---------------------------+-----------+-----------+-----------+</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.sentiment_analysis.compute_simple_reviews_polarity">
<code class="descclassname">loacore.analysis.sentiment_analysis.</code><code class="descname">compute_simple_reviews_polarity</code><span class="sig-paren">(</span><em>reviews</em>, <em>commit_polarities=False</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.sentiment_analysis.compute_simple_reviews_polarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the easiest sentiment analysis possible : a normalized sum of the positive/negative/objective polarities
available in all synsets of each review, setting the polarity in the review.polarities dict, with the entry
“simple”.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reviews</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.Review" title="loacore.classes.classes.Review"><code class="xref py py-class docutils literal notranslate"><span class="pre">Review</span></code></a>) – Files to process</li>
<li><strong>commit_polarities</strong> (<em>bool</em>) – If True, results will be committed to database.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Reviews with polarity.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><cite>~loacore.utils.data_stream.ReviewIterator</cite></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Commit simple polarities of uci files to database.</p>
<div class="last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">loacore.analysis.sentiment_analysis</span> <span class="kn">as</span> <span class="nn">sentiment_analysis</span>
<span class="kn">import</span> <span class="nn">loacore.load.file_load</span> <span class="kn">as</span> <span class="nn">file_load</span>
<span class="kn">import</span> <span class="nn">loacore.load.review_load</span> <span class="kn">as</span> <span class="nn">review_load</span>

<span class="n">ids</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">get_id_files_by_file_paths</span><span class="p">([</span><span class="sa">r</span><span class="s1">&#39;.*/uci/.+&#39;</span><span class="p">])</span>
<span class="n">reviews</span> <span class="o">=</span> <span class="n">review_load</span><span class="o">.</span><span class="n">load_reviews_by_id_files</span><span class="p">(</span><span class="n">id_files</span><span class="o">=</span><span class="n">ids</span><span class="p">,</span> <span class="n">load_sentences</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">load_words</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">sentiment_analysis</span><span class="o">.</span><span class="n">compute_simple_reviews_polarity</span><span class="p">(</span><span class="n">reviews</span><span class="p">,</span> <span class="n">commit_polarities</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If <em>reviews</em> have been loaded in temporary files (with <em>load_in_temp_file=True</em> in
<a class="reference internal" href="load.html#loacore.load.file_load.load_database" title="loacore.load.file_load.load_database"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_database()</span></code></a>), input <em>reviews</em> (that is an iterator) won’t be modified
dynamically. However, results can be committed to database normally, and results will be available in the
returned ReviewIterator (i.e. new temp files).</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-loacore.analysis.pattern_recognition">
<span id="pattern-recognition"></span><h2>Pattern Recognition<a class="headerlink" href="#module-loacore.analysis.pattern_recognition" title="Permalink to this headline">¶</a></h2>
<p>Patterns recognitions are realized on the dependency trees computed with Freeling. This means that <em>parent-child</em>
structures will be matched, what <strong>don’t necessarily correspond to adjacent words in the original sentence</strong>.</p>
<dl class="function">
<dt id="loacore.analysis.pattern_recognition.adj_pattern_table">
<code class="descclassname">loacore.analysis.pattern_recognition.</code><code class="descname">adj_pattern_table</code><span class="sig-paren">(</span><em>sentences</em>, <em>polarity_commuter_only=True</em>, <em>lang='en'</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.pattern_recognition.adj_pattern_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string table with the following fiels :</p>
<blockquote>
<div><ul class="simple">
<li>Noun : word with a Noun PoS_tag, with an associated adjective</li>
<li>N_Polarity + : noun positive polarity</li>
<li>N_Polatity - : noun negative polarity</li>
<li>Adj : word with an Adjective PoS_tag, associated to the Noun according to the sentence dependency tree</li>
<li>A_Polarity + : adjective positive polarity</li>
<li>A_Polarity - : adjective negative polarity</li>
</ul>
</div></blockquote>
<p>Only the words associated to a synset are considered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sentences</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.Sentence" title="loacore.classes.classes.Sentence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sentence</span></code></a>) – Sentences to process</li>
<li><strong>polarity_commuter_only</strong> (<em>boolean</em>) – If True, only the patterns that are subject to a polarity commutation are displayed, i.e. those constituted by a
positive noun associated to a negative adjective.</li>
<li><strong>lang</strong> (<em>string</em>) – Language used. (PoS_tags and dependency labels to match are chosen accordingly) Possible values : ‘en’, ‘es’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Table as a <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Load Spanish files from corrected folder (previously added to database) and print their adj pattern table, with
polarity commutation only.</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.load.file_load</span> <span class="k">as</span> <span class="nn">file_load</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.analysis.pattern_recognition</span> <span class="k">as</span> <span class="nn">pattern_recognition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">get_id_files_by_file_paths</span><span class="p">([</span><span class="sa">r</span><span class="s1">&#39;.*/corrected/.+&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">load_database</span><span class="p">(</span><span class="n">id_files</span><span class="o">=</span><span class="n">ids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">pattern_recognition</span><span class="o">.</span><span class="n">adj_pattern_table</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">sentence_list</span><span class="p">(),</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;es&#39;</span><span class="p">))</span>
<span class="gp">...</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.pattern_recognition.general_pattern_recognition">
<code class="descclassname">loacore.analysis.pattern_recognition.</code><code class="descname">general_pattern_recognition</code><span class="sig-paren">(</span><em>sentences</em>, <em>pattern</em>, <em>types</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.pattern_recognition.general_pattern_recognition" title="Permalink to this definition">¶</a></dt>
<dd><p>Recognize a general pattern, compound of PoS_tags and dependency labels, in the DepTrees associated to specified
sentences.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sentences</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.Sentence" title="loacore.classes.classes.Sentence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sentence</span></code></a>) – Sentences to process</li>
<li><strong>pattern</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – A 2 dimensional list of strings representing patterns. The patterns list pattern[i] represents the label
that will match at position i. ex : <em>pattern = [[‘V’], [‘cc’, ‘ci’, ‘cd’]]</em> will match all the
<em>Verb/complement</em> structures.</li>
<li><strong>types</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>. Allowed value are ‘PoS_tag’ and ‘label’. Otherwise, nothing will
match.) – Specify what type of match to use, such that <em>types[i]</em> specifies if elements of <em>pattern[i]</em> have to be
condidered as PoS_tag or label. Notice that types is unidimensional, whereas pattern can be 2 dimensional :
this means that for consistency reason, we assume that all the tags that can match in a position <em>i</em> are of
the same nature.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Matching patterns in specified sentences, as node tuples.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.DepTreeNode" title="loacore.classes.classes.DepTreeNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">DepTreeNode</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Find all the Verb(PoS_tag)/complement(label) patterns in file 28(_PQRS.txt).</p>
<p>(classically, a negation that applies to the parent verb)</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.load.sentence_load</span> <span class="k">as</span> <span class="nn">sentence_load</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentences</span> <span class="o">=</span> <span class="n">sentence_load</span><span class="o">.</span><span class="n">load_sentences_by_id_files</span><span class="p">([</span><span class="mi">28</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.analysis.pattern_recognition</span> <span class="k">as</span> <span class="nn">pattern_recognition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns</span> <span class="o">=</span> <span class="n">pattern_recognition</span><span class="o">.</span><span class="n">general_pattern_recognition</span><span class="p">(</span><span class="n">sentences</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;V&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;cc&#39;</span><span class="p">,</span> <span class="s1">&#39;ci&#39;</span><span class="p">,</span> <span class="s1">&#39;cc&#39;</span><span class="p">]],</span> <span class="p">[</span><span class="s1">&#39;PoS_tag&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns_str</span> <span class="o">=</span> <span class="n">pattern_recognition</span><span class="o">.</span><span class="n">print_patterns</span><span class="p">(</span><span class="n">patterns</span><span class="p">,</span> <span class="n">PoS_tag_display</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_display</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">( parece : VMIP3S0 : sentence, me : None : ci )</span>
<span class="go">( promueven : VMIP3P0 : S, en : None : cc )</span>
<span class="go">( atiende : VMIP3S0 : S, de : None : cc )</span>
<span class="go">( atiende : VMIP3S0 : S, como : None : cc )</span>
<span class="go">( atiendan : VMSP3P0 : S, de : None : cc )</span>
<span class="go">( atiende : VMIP3S0 : S, en : None : cc )</span>
<span class="go">( viniera : VMSI3S0 : S, con : None : cc )</span>
<span class="go">( orientar : VMN0000 : S, en : None : cc )</span>
<span class="go">( orientar : VMN0000 : S, al : None : cc )</span>
<span class="go">( poner : VMN0000 : S, le : None : ci )</span>
<span class="go">( poner : VMN0000 : S, a : None : ci )</span>
<span class="go">( establecer : VMN0000 : S, uun : None : cc )</span>
<span class="gp">...</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.pattern_recognition.label_patterns_recognition">
<code class="descclassname">loacore.analysis.pattern_recognition.</code><code class="descname">label_patterns_recognition</code><span class="sig-paren">(</span><em>sentences</em>, <em>pattern</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.pattern_recognition.label_patterns_recognition" title="Permalink to this definition">¶</a></dt>
<dd><p>Recognize a dependency label pattern in the DepTrees associated to specified sentences.</p>
<p>Labels used for Spanish can be found there :</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://clic.ub.edu/corpus/webfm_send/20">http://clic.ub.edu/corpus/webfm_send/20</a></li>
<li><a class="reference external" href="http://clic.ub.edu/corpus/webfm_send/18">http://clic.ub.edu/corpus/webfm_send/18</a></li>
<li><a class="reference external" href="http://clic.ub.edu/corpus/webfm_send/49">http://clic.ub.edu/corpus/webfm_send/49</a></li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sentences</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.Sentence" title="loacore.classes.classes.Sentence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sentence</span></code></a>) – Sentences to process</li>
<li><strong>pattern</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – A 2 dimensional list of strings representing patterns. The patterns list pattern[i] represents the label that
will match at position i. ex : <em>pattern = [[‘sentence’, ‘v’], [‘</em>’]]* could be used to find all the dependency
functions that could follow <em>sentence</em> of <em>v</em> function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Matching patterns in specified sentences, as node tuples.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.DepTreeNode" title="loacore.classes.classes.DepTreeNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">DepTreeNode</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Find all node to which a verbal modifier is applied in file 28 (_PQRS.txt).</p>
<p>(classically, a negation that applies to the parent verb)</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.load.sentence_load</span> <span class="k">as</span> <span class="nn">sentence_load</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentences</span> <span class="o">=</span> <span class="n">sentence_load</span><span class="o">.</span><span class="n">load_sentences_by_id_files</span><span class="p">([</span><span class="mi">28</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.analysis.pattern_recognition</span> <span class="k">as</span> <span class="nn">pattern_recognition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns</span> <span class="o">=</span> <span class="n">pattern_recognition</span><span class="o">.</span><span class="n">label_patterns_recognition</span><span class="p">(</span><span class="n">sentences</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;*&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;mod&#39;</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns_str</span> <span class="o">=</span> <span class="n">pattern_recognition</span><span class="o">.</span><span class="n">print_patterns</span><span class="p">(</span><span class="n">patterns</span><span class="p">,</span> <span class="n">label_display</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">( bajar : ao, ya : mod )</span>
<span class="go">( bajar : ao, no : mod )</span>
<span class="go">( podia : S, tampoco : mod )</span>
<span class="go">( quiere : ao, no : mod )</span>
<span class="go">( dejan : S, no : mod )</span>
<span class="gp">...</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This function can also be used to recognize unigram patterns.</p>
<blockquote class="last">
<div><p><strong>Example :</strong> Find all the nodes with dependency label ‘suj’ in file 28 (_PQRS.txt)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.load.sentence_load</span> <span class="k">as</span> <span class="nn">sentence_load</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentences</span> <span class="o">=</span> <span class="n">sentence_load</span><span class="o">.</span><span class="n">load_sentences_by_id_files</span><span class="p">([</span><span class="mi">28</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.analysis.pattern_recognition</span> <span class="k">as</span> <span class="nn">pattern_recognition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns</span> <span class="o">=</span> <span class="n">pattern_recognition</span><span class="o">.</span><span class="n">label_patterns_recognition</span><span class="p">(</span><span class="n">sentences</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;suj&#39;</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns_str</span> <span class="o">=</span> <span class="n">pattern_recognition</span><span class="o">.</span><span class="n">print_patterns</span><span class="p">(</span><span class="n">patterns</span><span class="p">,</span> <span class="n">PoS_tag_display</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_display</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">( colmo : NCMS000 : suj )</span>
<span class="go">( que : None : suj )</span>
<span class="go">( que : None : suj )</span>
<span class="go">( tencion : None : suj )</span>
<span class="go">( señora : NCFS000 : suj )</span>
<span class="go">( que : None : suj )</span>
<span class="go">( turista : NCCS000 : suj )</span>
<span class="go">( ella : None : suj )</span>
<span class="go">( que : None : suj )</span>
<span class="gp">...</span>
</pre></div>
</div>
</div></blockquote>
</div>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.pattern_recognition.pos_tag_patterns_recognition">
<code class="descclassname">loacore.analysis.pattern_recognition.</code><code class="descname">pos_tag_patterns_recognition</code><span class="sig-paren">(</span><em>sentences</em>, <em>pattern</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.pattern_recognition.pos_tag_patterns_recognition" title="Permalink to this definition">¶</a></dt>
<dd><p>Recognize a PoS_tag pattern in the DepTrees associated to specified sentences.</p>
<p>PoS_tags corresponding to each language can be found there :
<a class="reference external" href="https://talp-upc.gitbooks.io/freeling-4-1-user-manual/content/tagsets.html">https://talp-upc.gitbooks.io/freeling-4-1-user-manual/content/tagsets.html</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sentences</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.Sentence" title="loacore.classes.classes.Sentence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sentence</span></code></a>) – Sentences to process</li>
<li><strong>pattern</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – <p>A 2 dimensional list of strings representing patterns. The patterns list pattern[i] represents the PoS_tags that
will match at position i. ex : <em>pattern = [[‘V’], [‘A’, ‘NC’]]</em> recognizes verbs followed by an adjective or a
common noun.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Matches are performed with the beginning of the PoS_tag, according to the length of the specified
tags. For example, ‘A’ will match ‘AQ0CS00’, ‘AQ0MS00’…</p>
</div>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Matching patterns in specified sentences, as node tuples.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.DepTreeNode" title="loacore.classes.classes.DepTreeNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">DepTreeNode</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Find all Noun/Adjective patterns in file 28 (_PQRS.txt).</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.load.sentence_load</span> <span class="k">as</span> <span class="nn">sentence_load</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentences</span> <span class="o">=</span> <span class="n">sentence_load</span><span class="o">.</span><span class="n">load_sentences_by_id_files</span><span class="p">([</span><span class="mi">28</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.analysis.pattern_recognition</span> <span class="k">as</span> <span class="nn">pattern_recognition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns</span> <span class="o">=</span> <span class="n">pattern_recognition</span><span class="o">.</span><span class="n">pos_tag_patterns_recognition</span><span class="p">(</span><span class="n">sentences</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;N&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns_str</span> <span class="o">=</span> <span class="n">pattern_recognition</span><span class="o">.</span><span class="n">print_patterns</span><span class="p">(</span><span class="n">patterns</span><span class="p">,</span> <span class="n">PoS_tag_display</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">( manera : NCFS000, grosera : AQ0FS00 )</span>
<span class="go">( manera : NCFS000, igual : AQ0CS00 )</span>
<span class="go">( señora : NCFS000, irrespetuosa : AQ0FS00 )</span>
<span class="go">( zona : NCFS000, visible : AQ0CS00 )</span>
<span class="go">( manera : NCFS000, grosera : AQ0FS00 )</span>
<span class="go">( espacio : NCMS000, mejor : AQ0CS00 )</span>
<span class="go">( atencion : NCFS000, mejor : AQ0CS00 )</span>
<span class="gp">...</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This function can also be used to recognize unigram patterns.</p>
<blockquote class="last">
<div><p><strong>Example :</strong> Find all verbs in file 28 (_PQRS.txt)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.load.sentence_load</span> <span class="k">as</span> <span class="nn">sentence_load</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentences</span> <span class="o">=</span> <span class="n">sentence_load</span><span class="o">.</span><span class="n">load_sentences_by_id_files</span><span class="p">([</span><span class="mi">28</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.analysis.pattern_recognition</span> <span class="k">as</span> <span class="nn">pattern_recognition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns</span> <span class="o">=</span> <span class="n">pattern_recognition</span><span class="o">.</span><span class="n">pos_tag_patterns_recognition</span><span class="p">(</span><span class="n">sentences</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;V&#39;</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns_str</span> <span class="o">=</span> <span class="n">pattern_recognition</span><span class="o">.</span><span class="n">print_patterns</span><span class="p">(</span><span class="n">patterns</span><span class="p">,</span> <span class="n">PoS_tag_display</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_display</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">( parece : VMIP3S0 : sentence )</span>
<span class="go">( promueven : VMIP3P0 : S )</span>
<span class="go">( atiende : VMIP3S0 : S )</span>
<span class="go">( atiendan : VMSP3P0 : S )</span>
<span class="go">( atiende : VMIP3S0 : S )</span>
<span class="go">( viniera : VMSI3S0 : S )</span>
<span class="go">( orientar : VMN0000 : S )</span>
<span class="go">( contratar : VMN0000 : S )</span>
<span class="go">( era : VSII3S0 : sentence )</span>
<span class="go">( argumentando : VMG0000 : gerundi )</span>
<span class="go">( poner : VMN0000 : S )</span>
<span class="gp">...</span>
</pre></div>
</div>
</div></blockquote>
</div>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.pattern_recognition.verb_context_table">
<code class="descclassname">loacore.analysis.pattern_recognition.</code><code class="descname">verb_context_table</code><span class="sig-paren">(</span><em>sentences</em>, <em>context_length=2</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.pattern_recognition.verb_context_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string table with the following fields :</p>
<blockquote>
<div><ul class="simple">
<li>Verb : a word with a verb PoS_tag</li>
<li>Context : the context of the words. <em>context_length</em> defines the number of words to display before and after
the verb.</li>
<li>synset : name of the synset associated to the verb</li>
<li>polarity + : positive polarity</li>
<li>polarity - : negative polarity</li>
<li>polarity = : objective polarity</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sentences</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.Sentence" title="loacore.classes.classes.Sentence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sentence</span></code></a>) – Sentences to process</li>
<li><strong>context_length</strong> (<em>int</em>) – Number of words to display before and after the verb.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Table as a <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Load files from uci and corrected folders (after they have been added to database) and print their verb context
tables.</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.load.file_load</span> <span class="k">as</span> <span class="nn">file_load</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">loacore.analysis.pattern_recognition</span> <span class="k">as</span> <span class="nn">pattern_recognition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">get_id_files_by_file_paths</span><span class="p">([</span><span class="sa">r</span><span class="s1">&#39;.*/uci/.+&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;.*/corrected/.+&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">load_database</span><span class="p">(</span><span class="n">id_files</span><span class="o">=</span><span class="n">ids</span><span class="p">,</span> <span class="n">load_deptrees</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">pattern_recognition</span><span class="o">.</span><span class="n">verb_context_table</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">sentence_list</span><span class="p">()))</span>
<span class="gp">...</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="frequencies">
<h2>Frequencies<a class="headerlink" href="#frequencies" title="Permalink to this headline">¶</a></h2>
<p>This module provides functions to compute simple and bigram dependency labels frequencies. The objective of such analysis could be to identify relevant structures among the most commons.</p>
<span class="target" id="module-loacore.analysis.frequencies"></span><dl class="function">
<dt id="loacore.analysis.frequencies.bigram_label_frequencies">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">bigram_label_frequencies</code><span class="sig-paren">(</span><em>files</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.bigram_label_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute bigram dependency label frequencies if files.</p>
<p>A “bigram label” is defined as a tuple constituted by the label of a parent node, and the label of one of its
children.</p>
<p>Results are returned in a dictionary that map file names to frequencies.</p>
<p>Frequencies are represented has dictionaries that map dependency labels to frequencies.</p>
<p>A list of dependency labels is also returns.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dependency labels, and a dictionary that maps file names to frequencies</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> , <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body">Compute bigram label frequencies of uci files.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.bigram_pos_tag_frequencies">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">bigram_pos_tag_frequencies</code><span class="sig-paren">(</span><em>files</em>, <em>tag_len=2</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.bigram_pos_tag_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Same idea as :func:<a href="#id1"><span class="problematic" id="id2">`</span></a>label_frequencies’, but with Part Of Speech tags.</p>
<p>The number of characters of the PoS_tags to consider can be specified with tag_len.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process</li>
<li><strong>tag_len</strong> – Number of letters kept in each PoS_tag</li>
<li><strong>tag_len</strong> – int</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">PoS_tags, and a dictionary that maps file names to frequencies</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> , <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first last">Compute bigram PoS_tags frequencies of uci files.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.count_bigram_label">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">count_bigram_label</code><span class="sig-paren">(</span><em>file</em>, <em>bigram_label</em>, <em>c</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.count_bigram_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of occurrence of <em>bigram_label</em> if all the dependency trees of <em>file</em>, through an SQL request.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For a more efficient call from <a class="reference internal" href="#loacore.analysis.frequencies.bigram_label_frequencies" title="loacore.analysis.frequencies.bigram_label_frequencies"><code class="xref py py-func docutils literal notranslate"><span class="pre">bigram_label_frequencies()</span></code></a>, this function takes an already initialized SQL
cursor as an argument.
If you want to use it, you can initialize <em>c</em> with the following code :</p>
<div class="last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span> <span class="kn">as</span> <span class="nn">sql</span>
<span class="kn">from</span> <span class="nn">loacore.conf</span> <span class="kn">import</span> <span class="n">DB_PATH</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">DB_PATH</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">DB_TIMEOUT</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file</strong> (<a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – File to process</li>
<li><strong>bigram_label</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Tuple of two dependency labels.</li>
<li><strong>c</strong> – SQL cursor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Number of bigram_label occurrences</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.count_bigram_pos_tag">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">count_bigram_pos_tag</code><span class="sig-paren">(</span><em>file</em>, <em>bigram_pos_tag</em>, <em>c</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.count_bigram_pos_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of occurrence of <em>bigram_pos_tag</em> if all the dependency trees of <em>file</em>, through an SQL request.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For a more efficient call from <a class="reference internal" href="#loacore.analysis.frequencies.bigram_pos_tag_frequencies" title="loacore.analysis.frequencies.bigram_pos_tag_frequencies"><code class="xref py py-func docutils literal notranslate"><span class="pre">bigram_pos_tag_frequencies()</span></code></a>, this function takes an already initialized SQL
cursor as an argument.
If you want to use it, you can initialize <em>c</em> with the following code :</p>
<div class="last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span> <span class="kn">as</span> <span class="nn">sql</span>
<span class="kn">from</span> <span class="nn">loacore.conf</span> <span class="kn">import</span> <span class="n">DB_PATH</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">DB_PATH</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">DB_TIMEOUT</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file</strong> (<a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – File to process</li>
<li><strong>bigram_pos_tag</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Tuple of two pos_tags.</li>
<li><strong>c</strong> – SQL cursor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Number of bigram_pos_tag occurrences</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.count_label">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">count_label</code><span class="sig-paren">(</span><em>file</em>, <em>label</em>, <em>c</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.count_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of occurrence of <em>label</em> if all the dependency trees of <em>file</em>, through an SQL request.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For a more efficient call from <a class="reference internal" href="#loacore.analysis.frequencies.label_frequencies" title="loacore.analysis.frequencies.label_frequencies"><code class="xref py py-func docutils literal notranslate"><span class="pre">label_frequencies()</span></code></a>, this function takes an already initialized SQL
cursor as an argument.
If you want to use it, you can initialize <em>c</em> with the following code :</p>
<div class="last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span> <span class="kn">as</span> <span class="nn">sql</span>
<span class="kn">from</span> <span class="nn">loacore.conf</span> <span class="kn">import</span> <span class="n">DB_PATH</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">DB_PATH</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">DB_TIMEOUT</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file</strong> (<a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – File to process</li>
<li><strong>label</strong> (<em>str</em>) – Dependency label</li>
<li><strong>c</strong> – SQL cursor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Number of label occurrences</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.count_pos_tag">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">count_pos_tag</code><span class="sig-paren">(</span><em>file</em>, <em>pos_tag</em>, <em>c</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.count_pos_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of occurrence of <em>pos_tag</em> if all the words of <em>file</em>, through an SQL request.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For a more efficient call from <a class="reference internal" href="#loacore.analysis.frequencies.pos_tag_frequencies" title="loacore.analysis.frequencies.pos_tag_frequencies"><code class="xref py py-func docutils literal notranslate"><span class="pre">pos_tag_frequencies()</span></code></a>, this function takes an already initialized SQL
cursor as an argument.
If you want to use it, you can initialize <em>c</em> with the following code :</p>
<div class="last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span> <span class="kn">as</span> <span class="nn">sql</span>
<span class="kn">from</span> <span class="nn">loacore.conf</span> <span class="kn">import</span> <span class="n">DB_PATH</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">DB_PATH</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">DB_TIMEOUT</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file</strong> (<a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – File to process</li>
<li><strong>pos_tag</strong> (<em>string</em>) – Part of Speech tag</li>
<li><strong>c</strong> – SQL cursor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Number of pos_tag occurrences</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.get_bigram_label_set">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">get_bigram_label_set</code><span class="sig-paren">(</span><em>files</em>, <em>c</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.get_bigram_label_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the existing bigram dependency labels in files, through a SQL request.</p>
<p>A “bigram label” is defined as a tuple constituted by the label of a parent node, and the label of one of its
children.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For a more efficient call from <a class="reference internal" href="#loacore.analysis.frequencies.bigram_label_frequencies" title="loacore.analysis.frequencies.bigram_label_frequencies"><code class="xref py py-func docutils literal notranslate"><span class="pre">bigram_label_frequencies()</span></code></a>, this function takes an already initialized SQL
cursor as an argument.
If you want to use it, you can initialize <em>c</em> with the following code :</p>
<div class="last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span> <span class="kn">as</span> <span class="nn">sql</span>
<span class="kn">from</span> <span class="nn">loacore.conf</span> <span class="kn">import</span> <span class="n">DB_PATH</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">DB_PATH</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">DB_TIMEOUT</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process. Notice that only the id_files are needed.</li>
<li><strong>c</strong> – SQL cursor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Bigram labels as string tuples.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.get_bigram_pos_tag_set">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">get_bigram_pos_tag_set</code><span class="sig-paren">(</span><em>files</em>, <em>c</em>, <em>tag_len</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.get_bigram_pos_tag_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the existing bigram PoS_tag in files, through a SQL request.</p>
<p>A “bigram PoS_tag” is defined as a tuple constituted by the PoS_tag of a parent node, and the PoS_tag of one of its
children.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For a more efficient call from <a class="reference internal" href="#loacore.analysis.frequencies.bigram_pos_tag_frequencies" title="loacore.analysis.frequencies.bigram_pos_tag_frequencies"><code class="xref py py-func docutils literal notranslate"><span class="pre">bigram_pos_tag_frequencies()</span></code></a>, this function takes an already initialized SQL
cursor as an argument.
If you want to use it, you can initialize <em>c</em> with the following code :</p>
<div class="last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span> <span class="kn">as</span> <span class="nn">sql</span>
<span class="kn">from</span> <span class="nn">loacore.conf</span> <span class="kn">import</span> <span class="n">DB_PATH</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">DB_PATH</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">DB_TIMEOUT</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process. Notice that only the id_files are needed.</li>
<li><strong>c</strong> – SQL cursor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Bigram PoS_tags as string tuples.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.get_label_set">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">get_label_set</code><span class="sig-paren">(</span><em>files</em>, <em>c</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.get_label_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the existing dependency labels in files, through a SQL request.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For a more efficient call from <a class="reference internal" href="#loacore.analysis.frequencies.label_frequencies" title="loacore.analysis.frequencies.label_frequencies"><code class="xref py py-func docutils literal notranslate"><span class="pre">label_frequencies()</span></code></a>, this function takes an already initialized SQL
cursor as an argument.
If you want to use it, you can initialize <em>c</em> with the following code :</p>
<div class="last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span> <span class="kn">as</span> <span class="nn">sql</span>
<span class="kn">from</span> <span class="nn">loacore.conf</span> <span class="kn">import</span> <span class="n">DB_PATH</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">DB_PATH</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">DB_TIMEOUT</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process. Notice that only the id_files are needed.</li>
<li><strong>c</strong> – SQL cursor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dependency labels</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.get_polarity_label_set">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">get_polarity_label_set</code><span class="sig-paren">(</span><em>files</em>, <em>c</em>, <em>polarity</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.get_polarity_label_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Select all the possible dependency labels for words in files with the specified polarity, thanks to an SQL request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – File to process</li>
<li><strong>c</strong> – SQL cursor</li>
<li><strong>polarity</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : {‘positive’, ‘negative’}) – Word polarity to consider.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dependency labels</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.get_polarity_pos_tag_set">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">get_polarity_pos_tag_set</code><span class="sig-paren">(</span><em>files</em>, <em>c</em>, <em>tag_len</em>, <em>polarity</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.get_polarity_pos_tag_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Select possible Part of Speech tags for words in files with the specified polarity, thanks to an SQL request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – File to process</li>
<li><strong>tag_len</strong> – Number of letters kept in each PoS_tag</li>
<li><strong>tag_len</strong> – int</li>
<li><strong>c</strong> – SQL cursor</li>
<li><strong>polarity</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : {‘positive’, ‘negative’}) – Word polarity to consider.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">PoS tags</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.get_pos_tag_set">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">get_pos_tag_set</code><span class="sig-paren">(</span><em>files</em>, <em>c</em>, <em>tag_len</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.get_pos_tag_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the existing pos_tags in files, through a SQL request.</p>
<p>Only the first <em>tag_len</em> characters of the tags are considered.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For a more efficient call from <a class="reference internal" href="#loacore.analysis.frequencies.pos_tag_frequencies" title="loacore.analysis.frequencies.pos_tag_frequencies"><code class="xref py py-func docutils literal notranslate"><span class="pre">pos_tag_frequencies()</span></code></a>, this function takes an already initialized SQL
cursor as an argument.
If you want to use it, you can initialize <em>c</em> with the following code :</p>
<div class="last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span> <span class="kn">as</span> <span class="nn">sql</span>
<span class="kn">from</span> <span class="nn">loacore.conf</span> <span class="kn">import</span> <span class="n">DB_PATH</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">DB_PATH</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">DB_TIMEOUT</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process. Notice that only the id_files are needed.</li>
<li><strong>c</strong> – SQL cursor</li>
<li><strong>tag_len</strong> – Number of letters kept in each PoS_tag</li>
<li><strong>tag_len</strong> – int</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">PoS_tags</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.label_frequencies">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">label_frequencies</code><span class="sig-paren">(</span><em>files</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.label_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute simple dependency label frequencies if files.</p>
<p>Results are returned in a dictionary that map file names to frequencies.</p>
<p>Frequencies are represented has dictionaries that map dependency labels to frequencies.</p>
<p>A list of dependency labels is also returns.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dependency labels, and a dictionary that maps file names to frequencies</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> , <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body">Compute simple label frequencies of uci files.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.polarity_word_label_frequencies">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">polarity_word_label_frequencies</code><span class="sig-paren">(</span><em>files</em>, <em>polarity</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.polarity_word_label_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute label frequencies for words with the specified polarity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process</li>
<li><strong>polarity</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : {‘positive’, ‘negative’}) – Word polarity to consider.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Labels, and a dictionary that maps file names to frequencies</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> , <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">loacore.load.file_load</span> <span class="kn">as</span> <span class="nn">file_load</span>
<span class="kn">import</span> <span class="nn">loacore.analysis.frequencies</span> <span class="kn">as</span> <span class="nn">frequencies</span>

<span class="n">ids</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">get_id_files_by_file_paths</span><span class="p">([</span><span class="sa">r</span><span class="s1">&#39;.*/uci/.+&#39;</span><span class="p">])</span>
<span class="n">files</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">load_database</span><span class="p">(</span><span class="n">id_files</span><span class="o">=</span><span class="n">ids</span><span class="p">,</span> <span class="n">load_reviews</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">labels</span><span class="p">,</span> <span class="n">freq</span> <span class="o">=</span> <span class="n">frequencies</span><span class="o">.</span><span class="n">polarity_word_label_frequencies</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="s1">&#39;positive&#39;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.polarity_word_pos_tag_frequencies">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">polarity_word_pos_tag_frequencies</code><span class="sig-paren">(</span><em>files</em>, <em>polarity</em>, <em>tag_len=2</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.polarity_word_pos_tag_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute PoS_tag frequencies only for words with the specified polarity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process</li>
<li><strong>polarity</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : {‘positive’, ‘negative’}) – Word polarity to consider.</li>
<li><strong>tag_len</strong> – Number of letters kept in each PoS_tag</li>
<li><strong>tag_len</strong> – int</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">PoS_tags, and a dictionary that maps file names to frequencies</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> , <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Compute pos_tag (first 2 characters) frequencies for positive words in uci files.</p>
<div class="last highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">loacore.load.file_load</span> <span class="kn">as</span> <span class="nn">file_load</span>
<span class="kn">import</span> <span class="nn">loacore.analysis.frequencies</span> <span class="kn">as</span> <span class="nn">frequencies</span>

<span class="n">ids</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">get_id_files_by_file_paths</span><span class="p">([</span><span class="sa">r</span><span class="s1">&#39;.*/uci/.+&#39;</span><span class="p">])</span>
<span class="n">files</span> <span class="o">=</span> <span class="n">file_load</span><span class="o">.</span><span class="n">load_database</span><span class="p">(</span><span class="n">id_files</span><span class="o">=</span><span class="n">ids</span><span class="p">,</span> <span class="n">load_reviews</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">labels</span><span class="p">,</span> <span class="n">freq</span> <span class="o">=</span> <span class="n">frequencies</span><span class="o">.</span><span class="n">polarity_word_pos_tag_frequencies</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="s1">&#39;positive&#39;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.frequencies.pos_tag_frequencies">
<code class="descclassname">loacore.analysis.frequencies.</code><code class="descname">pos_tag_frequencies</code><span class="sig-paren">(</span><em>files</em>, <em>tag_len=2</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.frequencies.pos_tag_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Same idea as :func:<a href="#id3"><span class="problematic" id="id4">`</span></a>label_frequencies’, but with Part Of Speech tags.</p>
<p>The number of characters of the PoS_tags to consider can be specified with tag_len.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process</li>
<li><strong>tag_len</strong> – Number of letters kept in each PoS_tag</li>
<li><strong>tag_len</strong> – int</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">PoS_tags, and a dictionary that maps file names to frequencies</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> , <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : <code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first last">Compute simple PoS_tags frequencies of uci files.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="polarity-check">
<h2>Polarity Check<a class="headerlink" href="#polarity-check" title="Permalink to this headline">¶</a></h2>
<p>This modules provides functions to compare results of polarity analysis. Comparation with the analysis that correspond to labelled reviews can notably be used to detect/show/count false positive and false negative of other analysis.</p>
<span class="target" id="module-loacore.analysis.polarity_check"></span><dl class="function">
<dt id="loacore.analysis.polarity_check.check_polarity">
<code class="descclassname">loacore.analysis.polarity_check.</code><code class="descname">check_polarity</code><span class="sig-paren">(</span><em>files</em>, <em>analysis_to_check=('simple'</em>, <em>'optimistic'</em>, <em>'pessimistic'</em>, <em>'pattern_adj_cc'</em>, <em>'pattern_adj'</em>, <em>'pattern_cc')</em>, <em>ref='label'</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.polarity_check.check_polarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints tables with the rates, in percentages, of correct, false positive and false negative classifications of
reviews by file for each analysis in <em>analysis_to_check</em>, compared with <em>ref</em> analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process.</li>
<li><strong>analysis_to_check</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">sequence</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Analysis to check</li>
<li><strong>ref</strong> (<em>string</em>) – Reference analysis, with which analysis to check are compared.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="loacore.analysis.polarity_check.write_polarity_check">
<code class="descclassname">loacore.analysis.polarity_check.</code><code class="descname">write_polarity_check</code><span class="sig-paren">(</span><em>files</em>, <em>analysis_to_check=('simple'</em>, <em>'optimistic'</em>, <em>'pessimistic'</em>, <em>'pattern_adj_cc'</em>, <em>'pattern_adj'</em>, <em>'pattern_cc')</em>, <em>ref='label'</em>, <em>select='all'</em>, <em>terminal_print=True</em>, <em>colored_polarity=True</em>, <em>directory_path='/home/paulbreugnot/Development/Python/workspace/Loacore/loacore/results/sentiment_analysis/check'</em><span class="sig-paren">)</span><a class="headerlink" href="#loacore.analysis.polarity_check.write_polarity_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Write polarity in .txt files. If <em>select</em> is set to all, each review is written with polarities corresponding to
<em>ref</em> and <em>analysis_to_check</em>. If <em>select</em> is set to <em>false_positive</em> or <em>false_negative</em>, only the review with a
false positive or false negative for at least one analysis of <em>analysis_to_check</em> are written, with the
corresponding(s) polarities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>files</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="classes.html#loacore.classes.classes.File" title="loacore.classes.classes.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a>) – Files to process.</li>
<li><strong>analysis_to_check</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">sequence</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Analysis to compare with <em>ref</em></li>
<li><strong>ref</strong> (<em>string</em>) – Reference analysis</li>
<li><strong>select</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> : {‘all’, ‘false_positive’, ‘false_negative’}) – Select option</li>
<li><strong>terminal_print</strong> (<em>boolean</em>) – If True, print results in the terminal.</li>
<li><strong>colored_polarity</strong> – <p>If True, write words with colored polarity. Notice that colors are not display in most of the .txt editors.
For example, in Linux, use</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cat file_name.txt</span>
</pre></div>
</div>
</div></blockquote>
<p>To show the colored file in terminal.</p>
</li>
<li><strong>directory_path</strong> (<a class="reference external" href="https://docs.python.org/3/glossary.html#term-path-like-object">path-like object</a>) – Path of the directory in which to write files.
Default value computed using os.path.join(RESULT_PATH, ‘sentiment_analysis’, ‘check’)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Loacore : Language and Opinion Analyzer for Comments and Reviews</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="database/database.html">Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes.html">Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="process.html">Feeding database : <em>process</em> package</a></li>
<li class="toctree-l1"><a class="reference internal" href="load.html">Load data from database : <em>load</em> package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Analyse data : <em>analysis</em> package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-loacore.analysis.sentiment_analysis">Sentiment Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-loacore.analysis.pattern_recognition">Pattern Recognition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#frequencies">Frequencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#polarity-check">Polarity Check</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="learning.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html"><em>utils</em> package</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_examples.html">Other Useful Examples</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="load.html" title="previous chapter">Load data from database : <em>load</em> package</a></li>
      <li>Next: <a href="learning.html" title="next chapter">Machine Learning</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Universidad Tecnológica de Pereira.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.9</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/analysis.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>